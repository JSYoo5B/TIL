# 스터디 목적

리눅스 커널, 운영체제에 대한 전반적인 구조를 이해하기 위한 이론 공부

## 스터디 범위

리눅스 커널 내부 구조 Chapter5 ~ Chapter7 (p130 ~ p203)

## 토의 내용 (자체 해결 완료)

### Q. 블록체인 할당 기법이나, FAT 할당 기법이나 linked-list와 비슷해보이는데 무슨 차이인가? (p136)

* Linked-list형태로 구현된 점은 같은 것 같음. (임의의 위치 seek에 대해 O(n)의 복잡도 예상)
* 하지만 블록체인 할당 기법의 경우, 해당 블록에서 다음 블록에 대한 정보를 알아내서
  그 블록으로 이동하는 행위를 반복해야 알 수 있음.
* 이와 달리 FAT는 전역적으로 존재하는 FAT를 사용하므로, FAT가 저장된 블록만 읽어서
  해당 블록을 찾아 이동할 수 있음.
* 말하자면 O(n)의 복잡도는 같은데, 블록체인 할당 기법은 Recursive하게 구현하는 것이고,
  FAT는 Iterative하게 구현하는 것이다. 
* 혹은 복잡도의 계수가 변수의 영향력 이상으로 차이가 난다. (메모리/캐시 접근속도 <<<< 디스크 접근속도)

### Q. ext계열의 indirect block에서, indirect indexing 단계는 가변적으로 구성 가능한가? (p141)

* indirect block의 순서에 따라 single, double, triple indirect indexing으로 고정된 것으로 보임.
* 파일의 크기를 설명할 때 가변적 구성이 가능했다면 최대 파일 크기는 (48KiB + 4TiB * 3)였을 것.
* 가변적이라면 굳이 single, double, triple 까지만 설명할 이유가 없음.
* 가변적이라면, indirect indexing 하는 부분에서 몇 단계 indexing을 하고 있는지 메타데이터 표현이 필요함.

### Q. inode 테이블을 모두 사용하는 경우는 언급하는데, 왜 데이터 블록을 모두 사용하는 경우는 언급하지 않는가? (p146)

* 일단 inode 테이블을 모두 사용할 가능성이 데이터 블록을 모두 사용할 가능성보다 높음.
  블록 그룹 내 테이블의 비트맵 비율로 계산하면 inode 하나당 1024개 데이터 블록을 사용해야 동일한 비율로 가득 채움.
  현재 블록의 크기가 4KiB이므로, 평균 4MiB의 크기 이상이 되어야 함. (디렉터리가 일반적으로 4KiB 크기인데도 이를 넘겨야 함.)
* 각 블록 그룹의 데이터 블록 테이블이 관리하는 실제 크기는 128MiB임. (4096 * 8 * 4KiB)
  만약 블록 그룹의 데이터 블록 테이블이 꽉 차서 사용하지 못하는 경우를 언급하려면, 단일 파일의 최대 크기가 128MiB 이하여야 함.
  (48KiB를 넘으므로 single indirect indexing 블록 필요, 4MiB를 넘으므로 double indirect indexing 블록도 필요)

## 토의 내용 (불확실)

추후 작성

