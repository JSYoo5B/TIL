# 프로그래밍 기본

간략하게 각 언어, 간단한 아키텍쳐 별 특징에 대해 학습한다.

## 어셈블리 언어

어셈블리 언어는 기계어 수준의 코드를 좀 더 가독성있게 작성하는 것이다.

보통 명령어를 `Mnemonic`이라 하며, 대상을 `Operand`라 한다.

### Aarch64 어셈블리

ARM 64-bit 아키텍쳐는 아래와 같은 특징을 가진다.

* 범용 레지스터를 여러 개 가지고 있다.
* 수식 연산에 Operand를 3개까지 받을 수도 있다. (레지스터가 많은 것과 연계)
* 메모리 접근 명령과, 레지스터 간 값 변경 명령어가 분리되어 있다.
* 기계어 길이가 고정적이다.

### x86-64 어셈블리

* 범용 레지스터 개수가 적다. (x86-64부터 범용 레지스터가 더 늘어나긴 했다.)
* 대부분 연산은 Operand를 2개 이하로 받는다.
* 메모리 접근 명령과, 레지스터 간 값 변경 명령이 합쳐져있다.
* 기계어 길이가 가변적이다.

## C언어

C언어는 원래 "개발자가 생각이 있어서 이렇게 작성했겠지"라고 생각하는, 강력하면서도 위험한 언어다.

### pthread

POSIX 표준 인터페이스를 갖춘 스레드 라이브러리를 뜻한다.  
`pthread_join`으로 돌아가는 스레드를 대기하여 자원을 반환할 수 있으며,  
`detach` 속성으로 스레드가 알아서 자원을 반환하게 할 수 있다.

### volatile

컴파일러가 임의로 최적화 하지 못하게 하는 키워드다.

### 스택 메모리와 힙 메모리

스택에 보통 지역변수나 caller 반환 점수를 저장한다.  
함수의 인자 및 반환 값 전달은 레지스터를 사용하는 것이 일반적인 calling convention이다.
callee의 주소 영역은 반환 후 caller가 다른 함수를 호출하면 오염될 수 있다.  
이에 따라, 힙 영역에 동적으로 메모리를 할당받아서 제공해야 한다.