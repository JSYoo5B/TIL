# 비동기 프로그래밍

작성 순서에 따라 실행 흐름이 확정적인 것은 `동기 프로그래밍`이라 한다.

`비동기 프로그래밍` 구현 방법으로 콜백, 시그널 등이 있으나, 책에서는 Future, async/await 방식을 설명하고, 결과적으로 tokio를 사용하는 방법을 설명한다.

## 동시 서버

약간 일본식 번역 문제인거같긴 한데, 반복 서버는 주어진 동작이 끝까지 끝난 다음에 완료하는 것을 말하며, 동시 서버는 주어진 동작 중에 동시성을 지원할 수 있을 때 활용하는 것을 말한다.

반복 서버의 코드를 보면, 커넥션 요청, 데이터 도착 등 처리를 모두 하나의 간단한 흐름으로 묶어서 처리하고 있다.

동시 서버는, 이 과정을 각각 쪼개서 단계별로 완료될 때 까지 기다릴 수 있는 것을 말한다.  
방법으로는 Unix 계열 전체는 select/poll, 리눅스는 epoll 지원, BSD는 kqueue를 지원한다.

책에서는 epoll을 쓰다보니, 맥 환경은 BSD계열이라 epoll을 사용할 수 없다.  
대략 코드를 보면, epoll을 통해 소켓의 file descriptor의 이벤트를 감시하고, 리슨 이벤트 처리, 클라이언트 데이터 처리를 분리하여 비동기 처리를 지원한다.